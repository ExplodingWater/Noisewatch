/*
  Large redesign stylesheet for Noisewatch
  - CSS variables for theming
  - Mobile-first responsive layout
  - Accessible focus states and touch-friendly controls
*/

:root{
  --bg: #f8fafb;
  --text: #0f1720;
  --muted: #6b7280;
  --accent: #1e88e5;
  --success: #37a26f;
  --danger: #e53935;
  --yellow: #ffc107;
  --nav-start: #090979;
  --nav-mid: #020233;
  --nav-end: #00596b;
  --max-width: 1100px;
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --radius-sm: 6px;
  --radius-md: 10px;
  --nav-height: 64px;
  --focus-ring: 3px;
}

/* Reset */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}
img{max-width:100%;height:auto}

/* Layout utilities */
.container{max-width:var(--max-width);margin:0 auto;padding:0 var(--space-md)}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* NAV */
nav{display:flex;align-items:center;justify-content:space-between;height:var(--nav-height);padding:0 var(--space-md);background:linear-gradient(90deg,var(--nav-start) 0%,var(--nav-mid) 35%,var(--nav-end) 100%);color:#fff;position:fixed;top:0;left:0;right:0;z-index:1100;box-shadow:0 4px 18px rgba(2,6,23,0.32)}
nav .nav-left,nav .nav-center,nav .nav-right{display:flex;align-items:center}
.logo{display:block;width:140px;height:44px;background-image:url('/images/logonoisewatch.png');background-size:contain;background-repeat:no-repeat;background-position:center;border-radius:6px}
nav a:not(.logo){color:#fff;padding:8px 12px;border-radius:8px;margin-left:8px;margin-right:4px;display:inline-flex;align-items:center;gap:8px;font-weight:600;font-size:15px}
nav a:not(.logo):hover,nav a:not(.logo):focus{background:rgba(255,255,255,0.08);outline:none}
.lang-switch{display:flex;gap:8px;align-items:center}
.lang-switch a{width:36px;height:36px;border-radius:6px;background-size:cover;background-position:center}
.lang-switch a.al{background-image:url('/images/Flag_of_Albania.svg.png')}
.lang-switch a.en{background-image:url('/images/uk.png')}

/* Focus */
a:focus,button:focus{outline:none;box-shadow:0 0 0 var(--focus-ring) rgba(30,136,229,0.18);border-radius:6px}

/* Map container */
.map-container{position:relative;width:100vw;height:calc(100vh - var(--nav-height));margin-top:var(--nav-height)}
#googleMap{width:100%;height:100%}
#map-controls{position:absolute;right:18px;bottom:28px;z-index:1200;display:flex;flex-direction:column;align-items:flex-end;gap:12px}
.report-button{background:var(--danger);color:#fff;font-weight:700;padding:12px 18px;border-radius:999px;border:none;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.12)}
.report-button:hover{background:#c62828}

/* Reports form */
.report-container{max-width:840px;margin:0 auto;padding:24px;margin-top:calc(var(--nav-height) + 24px)}
.report-form{background:#fff;border-radius:var(--radius-md);padding:22px;box-shadow:0 6px 18px rgba(16,24,40,0.06)}
.report-form h1{color:var(--success);text-align:center;margin:0 0 8px;font-size:28px}
.subtitle{color:var(--muted);text-align:center;margin-bottom:18px}
.form-section{margin-bottom:18px;padding:14px;border-radius:8px;background:#fbfcfd;border:1px solid #eef2f6}
.form-section h2{margin:0 0 8px;color:var(--success)}

textarea{width:100%;min-height:110px;padding:12px;border-radius:8px;border:1px solid #e6eef6;font-size:15px}
textarea:focus{border-color:var(--accent);box-shadow:0 0 0 4px rgba(30,136,229,0.06);outline:none}

.location-header{display:flex;justify-content:space-between;align-items:center;gap:12px}
.location-btn{background:var(--success);color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer}
.location-btn:disabled{opacity:0.6;cursor:not-allowed}

.recording-controls{display:flex;gap:12px;flex-wrap:wrap}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;border-radius:8px;padding:10px 16px;font-weight:700;cursor:pointer;border:none}
.btn--danger{background:var(--danger);color:#fff}
.btn--primary{background:var(--accent);color:#fff}
.btn--muted{background:#f3f6f9;color:var(--muted);border:1px solid #e6eef6}
.record-btn{min-width:120px}
.submit-btn{width:100%;padding:12px 18px;font-size:16px;background:var(--success);color:#fff;border-radius:10px}

.db-display{text-align:center;margin-top:12px}
.db-value{font-size:2.6rem;font-weight:800}
.db-level{text-transform:uppercase;margin-top:6px}

#visualizerCanvas{width:100%;height:90px;border-radius:6px;background:#000;display:block}
.permission-hint{color:var(--muted);font-size:13px;text-align:center}

/* Accessibility */
button,.btn{min-height:44px}

/* Responsive */
@media (max-width:900px){
  .logo{width:120px;height:36px}
  nav a:not(.logo){padding:8px 10px;font-size:14px}
  .lang-switch a{width:32px;height:32px}
  .map-container{height:calc(100vh - 56px);margin-top:56px}
}

@media (max-width:600px){
  nav{padding:0 12px}
  .logo{width:96px;height:32px}
  nav .nav-center{display:none}
  .report-container{padding:14px;margin-top:calc(var(--nav-height) + 12px)}
  .recording-controls{flex-direction:column}
  .record-btn{width:100%}
  .submit-btn{font-size:15px}
  #map-controls{right:12px;bottom:20px}
  .report-button{padding:10px 14px}
}

/* End */
